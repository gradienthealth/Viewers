"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[980],{82980:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});const o=JSON.parse('{"u2":"@ohif/extension-test"}').u2,n=[{id:"@ohif/hp-extension.mn",protocol:{hasUpdatedPriorsInformation:!1,id:"@ohif/hp-extension.mn",description:"Has various hanging protocol layouts for use in testing",name:"2x2",protocolMatchingRules:[{id:"OneOrMoreSeries",weight:1,attribute:"numberOfDisplaySetsWithImages",constraint:{greaterThan:1}}],toolGroupIds:["default"],displaySetSelectors:{defaultDisplaySetId:{seriesMatchingRules:[{attribute:"numImageFrames",constraint:{greaterThan:{value:0}}}]}},defaultViewport:{viewportOptions:{viewportType:"stack",toolGroupId:"default",allowUnmatchedView:!0},displaySets:[{id:"defaultDisplaySetId",matchedDisplaySetsIndex:-1}]},stages:[{id:"2x2",stageActivation:{enabled:{minViewportsMatched:4}},viewportStructure:{layoutType:"grid",properties:{rows:2,columns:2}},viewports:[{viewportOptions:{toolGroupId:"default",allowUnmatchedView:!0},displaySets:[{id:"defaultDisplaySetId"}]},{viewportOptions:{toolGroupId:"default",allowUnmatchedView:!0},displaySets:[{matchedDisplaySetsIndex:1,id:"defaultDisplaySetId"}]},{viewportOptions:{toolGroupId:"default",allowUnmatchedView:!0},displaySets:[{matchedDisplaySetsIndex:2,id:"defaultDisplaySetId"}]},{viewportOptions:{toolGroupId:"default",allowUnmatchedView:!0},displaySets:[{matchedDisplaySetsIndex:3,id:"defaultDisplaySetId"}]}]},{id:"3x1",requiredViewports:1,preferredViewports:3,stageActivation:{enabled:{minViewportsMatched:3}},viewportStructure:{layoutType:"grid",properties:{rows:1,columns:3}},viewports:[{viewportOptions:{toolGroupId:"default",allowUnmatchedView:!0},displaySets:[{id:"defaultDisplaySetId",reuseId:"0-0"}]},{viewportOptions:{toolGroupId:"default",allowUnmatchedView:!0},displaySets:[{matchedDisplaySetsIndex:1,id:"defaultDisplaySetId",reuseId:"1-0"}]},{viewportOptions:{toolGroupId:"default",allowUnmatchedView:!0},displaySets:[{matchedDisplaySetsIndex:2,id:"defaultDisplaySetId",reuseId:"0-1"}]}]},{id:"2x1",requiredViewports:1,preferredViewports:2,stageActivation:{enabled:{minViewportsMatched:2}},viewportStructure:{layoutType:"grid",properties:{rows:1,columns:2}},viewports:[{viewportOptions:{toolGroupId:"default",allowUnmatchedView:!0},displaySets:[{id:"defaultDisplaySetId"}]},{viewportOptions:{toolGroupId:"default",allowUnmatchedView:!0},displaySets:[{matchedDisplaySetsIndex:1,id:"defaultDisplaySetId"}]}]},{id:"1x1",requiredViewports:1,preferredViewports:1,stageActivation:{enabled:{minViewportsMatched:1}},viewportStructure:{layoutType:"grid",properties:{rows:1,columns:1}},viewports:[{viewportOptions:{toolGroupId:"default",allowUnmatchedView:!0},displaySets:[{id:"defaultDisplaySetId"}]}]}],numberOfPriorsReferenced:-1}}];const s={id:"codingValues","SCT:69536005":{text:"Head",type:"site"},"SCT:45048000":{text:"Neck",type:"site"},"SCT:818981001":{text:"Abdomen",type:"site"},"SCT:816092008":{text:"Pelvis",type:"site"},"SCT:371861004":{text:"Mild intimal coronary irregularities",color:"green"},"SCT:194983005":{text:"Aortic insufficiency",color:"darkred"},"SCT:399232001":{text:"2-chamber"},"SCT:103340004":{text:"SAX"},"SCT:91134007":{text:"MV"},"SCT:122972007":{text:"PV"},"SCT:24422004":{text:"Axial",color:"#000000",type:"orientation"},"SCT:81654009":{text:"Coronal",color:"#000000",type:"orientation"},"SCT:30730003":{text:"Sagittal",color:"#000000",type:"orientation"}},a={id:"@ohif/contextMenuAnnotationCode",transform:function(e){const{code:t}=this;if(!t)throw new Error(`item ${this} has no code ref`);const i=e.get("codingValues")[t];return{...this,codeRef:t,code:{ref:t,...i},label:i.text,commands:[{commandName:"updateMeasurement"}]}}},r={id:"measurementsContextMenu",customizationType:"ohif.contextMenu",menus:[{id:"forExistingMeasurement",selector:e=>{let{nearbyToolData:t}=e;return!!t},items:[{customizationType:"ohif.contextSubMenu",label:"Site",actionType:"ShowSubMenu",subMenu:"siteSelectionSubMenu"},{customizationType:"ohif.contextSubMenu",label:"Finding",actionType:"ShowSubMenu",subMenu:"findingSelectionSubMenu"},{label:"Delete Measurement",commands:[{commandName:"deleteMeasurement"}]},{label:"Add Label",commands:[{commandName:"setMeasurementLabel"}]},{label:"IncludeSubMenu",selector:e=>{let{protocol:t}=e;return"@ohif/hp-extension.mn"===t?.id},delegating:!0,subMenu:"orientationSelectionSubMenu"}]},{id:"orientationSelectionSubMenu",selector:e=>{let{nearbyToolData:t}=e;return!1},items:[{customizationType:"@ohif/contextMenuAnnotationCode",code:"SCT:24422004"},{customizationType:"@ohif/contextMenuAnnotationCode",code:"SCT:81654009"}]},{id:"findingSelectionSubMenu",selector:e=>{let{nearbyToolData:t}=e;return!1},items:[{customizationType:"@ohif/contextMenuAnnotationCode",code:"SCT:371861004"},{customizationType:"@ohif/contextMenuAnnotationCode",code:"SCT:194983005"}]},{id:"siteSelectionSubMenu",selector:e=>{let{nearbyToolData:t}=e;return!!t},items:[{customizationType:"@ohif/contextMenuAnnotationCode",code:"SCT:69536005"},{customizationType:"@ohif/contextMenuAnnotationCode",code:"SCT:45048000"}]}]};function d(e,t){const{sameAttribute:i,sameDisplaySetId:o}=this;if(!i)return console.log("sameAttribute not defined in",this),`sameAttribute not defined in ${this.id}`;if(!o)return console.log("sameDisplaySetId not defined in",this),`sameDisplaySetId not defined in ${this.id}`;const{displaySetMatchDetails:n,displaySets:s}=t,a=n.get(o);if(!a)return console.log("No match for display set",o),!1;const{displaySetInstanceUID:r}=a,d=s.find((e=>e.displaySetInstanceUID==r));if(!d)return console.log("No display set found with",r,"in",s),!1;return d[i]===e[i]}const l=(e,t)=>t?.displaySets?.length,u=(e,t)=>{const i=t?.displaySets?.filter((e=>e.numImageFrames>0))?.length;return console.log("number of display sets with images",i),i},p=(e,t)=>Math.max(...t?.displaySets?.map?.((e=>e.numImageFrames??0))||[0]),c=(e,t)=>t?.displaySets?.map((e=>e.SeriesDescription)),m={id:o,preRegistration:e=>{let{servicesManager:t}=e;const{hangingProtocolService:i}=t.services;i.addCustomAttribute("seriesDescriptions","Series Descriptions",c),i.addCustomAttribute("numberOfDisplaySets","Number of displays sets",l),i.addCustomAttribute("numberOfDisplaySetsWithImages","Number of displays sets with images",u),i.addCustomAttribute("maxNumImageFrames","Maximum of number of image frames",p),i.addCustomAttribute("sameAs","Match an attribute in an existing display set",d)},getHangingProtocolModule:function(){return n},getCustomizationModule:function(){return[{name:"custom-context-menu",value:[s,a,r]}]}}}}]);